


     RZ(1)		Omen Technology	INC (OMEN)		 RZ(1)



     NAME
	  rx, rc, rb, rz - Receive Files and Commands with X/Y/ZMODEM

     SYNOPSIS
	  rz [-	tv]
	  rb [-	tv]
	  rc [-	tv] file
	  rx [-	tv] file
	  gz file ...
	  [-][v]rzCOMMAND

     DESCRIPTION
	  This program uses error correcting protocols to receive
	  files	over a dial-in serial port from	a variety of programs
	  running under	PC-DOS,	CP/M, Unix, and	other operating
	  systems.  It is invoked from a shell prompt manually,	or
	  automatically	as a result of an "sz file ..."	command	given
	  to the calling program.

	  This is a copyrighted	shareware program.  Commercial use of
	  this program is subject to licensing conditions detailed in
	  the rz.c source code.	 "Commercial Use" includes use of this
	  program to receive files from	commercial and/or shareware
	  programs not published by Omen Technology INC.

	  This program is not designed to be called from cu(1),	or
	  other	communications programs.  Unix flavors of Omen
	  Technology's Professional-YAM	communications software	are
	  available for	dial-out applications.


	  Rz (Receive ZMODEM) receives one or more files with the
	  ZMODEM protocol.  Pathnames are supplied by the sending
	  program, and directories are made if necessary (and
	  possible).  Normally,	the "rz" command is automatically
	  issued by the	calling	ZMODEM program,	but defective ZMODEM
	  implementations may require starting rz manually.

	  Rb receives file(s) with YMODEM, accepting either standard
	  128 byte sectors or 1024 byte	sectors	(YAM sb	-k option).
	  The user should determine when the 1024 byte block length
	  actually improves throughput.

	  If True YMODEM (Omen Technology trademark) file information
	  (file	length,	etc.) is received, the file length controls
	  the number of	bytes written to the output dataset, and the
	  modify time and file mode (iff non zero) are set
	  accordingly.

	  If True YMODEM file information is not received, slashes in
	  the pathname are changed to underscore, and any trailing
	  period in the	pathname is eliminated.	 This conversion is



     Page 1					     (printed 9/15/91)






     RZ(1)		Omen Technology	INC (OMEN)		 RZ(1)



	  useful for files received from CP/M and other	historical
	  systems.

	  Rc receives a	single file with XMODEM-CRC or XMODEM-1k-CRC
	  protocol.  The user should determine when the	1024 byte
	  block	length actually	improves throughput without causing
	  problems.  The user must supply the file name	to both
	  sending and receiving	programs.  Up to 1023 garbage
	  characters may be added to the received file.

	  Rx receives a	single file with XMODEM	or XMODEM-1k protocol.
	  The user should determine when the 1024 byte block length
	  actually improves throughput without causing problems.  The
	  user must supply the file name to both sending and receiving
	  programs.  Up	to 1023	garbage	characters may be added	to the
	  received file.

	  Gz is	a shell	script which calls sz to command Pro-YAM or
	  ZCOMM	to transmit the	specified files.  Pathnames used with
	  gz must be escaped if	they have special significance to the
	  Unix shell.
	  EXAMPLE: gz "-a C:*.c	D:*.h"

	  Rz may be invoked as rzCOMMAND (with an optional leading -
	  as generated by login(1)).  For each received	file, rz will
	  pipe the file	to ``COMMAND filename''	where filename is the
	  name of the transmitted file with the	file contents as
	  standard input.

	  Each file transfer is	acknowledged when COMMAND exits	with 0
	  status.  A non zero exit status terminates transfers.

	  A typical use	for this form is rzrmail which calls rmail(1)
	  to post mail to the user specified by	the transmitted	file
	  name.	 For example, sending the file "caf" from a PC-DOS
	  system to rzrmail on a Unix system would result in the
	  contents of the DOS file "caf" being mailed to user "caf".

	  On some Unix systems,	the login directory must contain a
	  link to COMMAND as login sets	SHELL=rsh which	disallows
	  absolute pathnames.  If invoked with a leading ``v'',	rz
	  will report progress to /tmp/rzlog.  The following entry
	  works	for Unix SYS III/V:
		     rzrmail::5:1::/bin:/usr/local/rzrmail
	  If the SHELL environment variable includes rsh or rksh
	  (restricted shell), rz will not accept absolute pathnames or
	  references to	a parent directory, will not modify an
	  existing file, and removes any files received	in error.


	  The meanings of the available	options	are:




     Page 2					     (printed 9/15/91)






     RZ(1)		Omen Technology	INC (OMEN)		 RZ(1)



	  t tim
	       Change timeout to tim tenths of seconds.
	  v    Verbose causes a	list of	file names to be appended to
	       /tmp/rzlog .  More v's generate more detailed debugging
	       output.
	  (Pro-YAM command)
	  <ALT-2>
	  Pro-YAM Command: sz *.h *.c
	  (This	automatically invokes rz on the	connected system.)


     DIAGNOSTICS
	  Exit status is as follows: 0 for successful transfers.  1 if
	  unrecoverable	errors are detected.  2	if syntax errors or
	  file access problems are detected.  3	if the program was
	  terminated by	a caught interrupt.


     SEE ALSO
	  Professional-YAM, ZCOMM, DSZ,	crc(omen), sz(omen),
	  usq(omen), undos(omen)

	  Compile time options required	for various operating systems
	  are described	in the source file.

     NOTES
	  ZMODEM's support of XOFF/XON flow control allows proper
	  operation in many environments that do not support XMODEM
	  uploads.  Unfortunately, not all Unix	versions support input
	  flow control.	 The TTY input buffering on some systems may
	  not adequately buffer	long blocks or streaming input at high
	  speed.  You should suspect this problem when you can't send
	  data to the Unix system at high speeds using ZMODEM,
	  YMODEM-1k or XMODEM-1k, but YMODEM with 128 byte blocks
	  works	properly.

	  The DSZ or Pro-YAM zmodem l numeric parameter	may be set to
	  a value between 64 and 1024 to limit the burst length
	  ("zmodem pl128").  Although this compromises ZMODEM's
	  throughput, ZMODEM's superior	reliability remains intact.

	  If a program that does not properly implement	the specified
	  file transfer	protocol causes	rz to "hang" the port after a
	  failed transfer, either wait for rz to time out or keyboard
	  a dozen Ctrl-X characters.  Every reported instance of this
	  problem has been corrected by	using ZCOMM, Pro-YAM, DSZ, or
	  other	program	with a correct implementation of the specified
	  protocol.

	  Many programs	claiming to support YMODEM only	support	XMODEM
	  with 1k blocks, and they often don't get that	quite right.




     Page 3					     (printed 9/15/91)






     RZ(1)		Omen Technology	INC (OMEN)		 RZ(1)



	  In the case of a few poorly designed microcomputers, sending
	  serial data to a tty port at sustained high speeds has been
	  known	to cause lockups, system halts,	kernel panics, and
	  occasional antisocial	behaviour.  This problem is not	unique
	  to rz; CRT terminals with block mode transmission and	line
	  noise	have the same effect.  When experimenting with high
	  speed	input to a system, consider rebooting the system if
	  the file transfers are not successful, especially if the
	  personality of the system appears altered.

	  The Unix "ulimit" parameter must be set high enough to
	  permit large file transfers to Unix.

	  Telebit modems must not be set to "spoof" UUCP, XMODEM, or
	  KERMIT.  Setting one of these	spoofing modes interferes with
	  other	protoocls.

	  32 bit CRC code courtesy Gary	S. Brown.  Directory creation
	  code from John Gilmore's PD TAR program.

     BUGS
	  Rz is	not intended be	called from cu(1), or other
	  communications programs.  Unix flavors of Omen Technology's
	  Professional-YAM communications software are available for
	  dial-out applications.

	  Rz does not support some ZMODEM features.  Unix flavors of
	  Professional-YAM may be linked to "rz" to support these
	  features.

	  The ASCII option's CR/LF to NL translation merely deletes
	  CR's;	undos(omen) performs a more intelligent	translation.

     ZMODEM CAPABILITIES
	  Rz supports ZMODEM command execution (zcommand), incoming
	  ZMODEM binary	(-b), ASCII (-a), newer(-n), newer+longer(-N),
	  protect (-p),	Crash Recovery(-r), clobber (-y),
	  match+clobber	(-Y), compression(-Z), and append (-+)
	  requests.  Other options sent	by the sender are ignored.
	  The default is protect (-p) and binary (-b).

	  Unix Professional-YAM	provides higher	performance and	other
	  features not supported by rz.	Please contact Omen Technology
	  Inc for product information.

	  Omen Technology INC
	  Post Office Box 4681
	  Portland OR 97208
	  503-621-3406


     FILES



     Page 4					     (printed 9/15/91)






     RZ(1)		Omen Technology	INC (OMEN)		 RZ(1)



	  rz.c,	crctab.c, rbsb.c, zm.c,	zmr.c, zmodem.h, rz.1

	  /tmp/rzlog stores debugging output generated with -vv	option




















































     Page 5					     (printed 9/15/91)







     RRRRZZZZ((((1111))))		OOOOmmmmeeeennnn TTTTeeeecccchhhhnnnnoooollllooooggggyyyy	IIIINNNNCCCC ((((OOOOMMMMEEEENNNN))))		 RRRRZZZZ((((1111))))



     NNNNAAAAMMMMEEEE
	  rx, rb, rz - XMODEM, YMODEM, ZMODEM receive file(s)

     SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
	  rrrrzzzz [-	eeeettttvvvv]
	  rrrrbbbb [-	ttttvvvv]
	  rrrrxxxx [-	ccccttttvvvv] _f_i_l_e
	  ggggzzzz _f_i_l_e ...
	  [----][vvvv]rrrrzzzzCCCCOOOOMMMMMMMMAAAANNNNDDDD

     DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
	  This program uses error correcting protocols to receive
	  files	over a dial-in serial port from	a variety of programs
	  running under	PC-DOS,	CP/M, Unix, and	other operating
	  systems.  It is invoked from a shell prompt manually,	or
	  automatically	as a result of an "sz file ..."	command	given
	  to the calling program.

	  Commercial use of this program is subject to licensing
	  conditions detailed in the rz.c source code.	"Commercial
	  Use" includes	support	of shareware programs not published by
	  Omen Technology INC.


	  This program is not designed to be called from _c_u(_1),	or
	  other	communications programs.  Unix flavors of Omen
	  Technology's Professional-YAM	communications software	are
	  available for	dial-out applications.


	  _R_z (Receive ZMODEM) receives one or more files with the
	  ZMODEM protocol.  Pathnames are supplied by the sending
	  program, and directories are made if necessary (and
	  possible).  Normally,	the "rz" command is automatically
	  issued by the	calling	ZMODEM program,	but defective ZMODEM
	  implementations may require starting _r_z manually.

	  RRRRbbbb receives file(s) with YMODEM, accepting either standard
	  128 byte sectors or 1024 byte	sectors	(YAM sb	----kkkk option).
	  The user should determine when the 1024 byte block length
	  actually improves throughput without causing lost data or
	  even system crashes.

	  If True YMODEM (Omen Technology trademark) file information
	  (file	length,	etc.) is received, the file length controls
	  the number of	bytes written to the output dataset, and the
	  modify time and file mode (iff non zero) are set
	  accordingly.

	  If no	True YMODEM file information is	received, slashes in
	  the pathname are changed to underscore, and any trailing
	  period in the	pathname is eliminated.	 This conversion is



     Page 1					      (printed 7/3/91)






     RRRRZZZZ((((1111))))		OOOOmmmmeeeennnn TTTTeeeecccchhhhnnnnoooollllooooggggyyyy	IIIINNNNCCCC ((((OOOOMMMMEEEENNNN))))		 RRRRZZZZ((((1111))))



	  useful for files received from CP/M systems.

	  RRRRxxxx receives a	single _f_i_l_e with XMODEM	or XMODEM-1k protocol.
	  The user should determine when the 1024 byte block length
	  actually improves throughput without causing problems.  The
	  user must supply the file name to both sending and receiving
	  programs.  Up	to 1023	garbage	characters may be added	to the
	  received file.

	  GGGGzzzz is	a shell	script which calls _s_z to command Pro-YAM or
	  ZCOMM	to transmit the	specified files.  Pathnames used with
	  _g_z must be escaped if	they have special significance to the
	  Unix shell.
	  EXAMPLE: gz "-a C:*.c	D:*.h"

	  RRRRzzzz may be invoked as rrrrzzzzCCCCOOOOMMMMMMMMAAAANNNNDDDD (with an optional leading -
	  as generated by login(1)).  For each received	file, _r_z will
	  pipe the file	to ``COMMAND filename''	where filename is the
	  name of the transmitted file with the	file contents as
	  standard input.

	  Each file transfer is	acknowledged when COMMAND exits	with 0
	  status.  A non zero exit status terminates transfers.

	  A typical use	for this form is _r_z_r_m_a_i_l which calls rmail(1)
	  to post mail to the user specified by	the transmitted	file
	  name.	 For example, sending the file "caf" from a PC-DOS
	  system to _r_z_r_m_a_i_l on a Unix system would result in the
	  contents of the DOS file "caf" being mailed to user "caf".

	  On some Unix systems,	the login directory must contain a
	  link to COMMAND as login sets	SHELL=rsh which	disallows
	  absolute pathnames.  If invoked with a leading ``v'',	_r_z
	  will report progress to /tmp/rzlog.  The following entry
	  works	for Unix SYS III/V:
		     rzrmail::5:1::/bin:/usr/local/rzrmail
	  If the SHELL environment variable includes _r_s_h or _r_k_s_h
	  (restricted shell), _r_z will not accept absolute pathnames or
	  references to	a parent directory, will not modify an
	  existing file, and removes any files received	in error.


	  The meanings of the available	options	are:

	  cccc    Use 16 bit CRC for XMODEM transfer.  XMODEM file
	       transfers default to 8 bit checksum.  YMODEM uses 16
	       bit CRC.
	  eeee    Force a ZMODEM sender to	escape all control characters;
	       normally	only XON, XOFF,	DLE, CR-@-CR, and Ctrl-X are
	       escaped.
	  tttt ttttiiiimmmm
	       Change timeout to _t_i_m tenths of seconds.



     Page 2					      (printed 7/3/91)






     RRRRZZZZ((((1111))))		OOOOmmmmeeeennnn TTTTeeeecccchhhhnnnnoooollllooooggggyyyy	IIIINNNNCCCC ((((OOOOMMMMEEEENNNN))))		 RRRRZZZZ((((1111))))



	  vvvv    Verbose causes a	list of	file names to be appended to
	       /tmp/rzlog .  More v's generate more detailed debugging
	       output.
	  (Pro-YAM command)
	  <_A_L_T-_2>
	  Pro-YAM Command: _s_z *._h *._c
	  (This	automatically invokes _r_z on the	connected system.)

     SSSSEEEEEEEE AAAALLLLSSSSOOOO
	  Professional-YAM, ZCOMM, DSZ,	crc(omen), sz(omen),
	  usq(omen), undos(omen)

	  Compile time options required	for various operating systems
	  are described	in the source file.

     NNNNOOOOTTTTEEEESSSS
	  ZMODEM's support of XOFF/XON flow control allows proper
	  operation in many environments that do not support XMODEM
	  uploads.  Unfortunately, not all timesharing systems support
	  input	flow control.  The TTY input buffering on some systems
	  may not adequately buffer long blocks	or streaming input at
	  high speed.  You should suspect this problem when you	can't
	  send data to the Unix	system at high speeds using ZMODEM,
	  YMODEM-1k or XMODEM-1k, but YMODEM with 128 byte blocks
	  works	properly.

	  The DSZ or Pro-YAM zzzzmmmmooooddddeeeemmmm llll numeric parameter	may be set to
	  a value between 64 and 1024 to limit the burst length
	  ("zmodem pl128").  Although this compromises ZMODEM's
	  throughput, ZMODEM's superior	reliability remains intact.

	  If a program that does not properly implement	the specified
	  file transfer	protocol causes	_r_z to "hang" the port after a
	  failed transfer, either wait for _r_z to time out or keyboard
	  a dozen Ctrl-X characters.  Every reported instance of this
	  problem has been corrected by	using ZCOMM, Pro-YAM, DSZ, or
	  other	program	with a correct implementation of the specified
	  protocol.

	  Many programs	claiming to support YMODEM only	support	XMODEM
	  with 1k blocks, and they often don't get that	quite right.

	  In the case of a few poorly designed microcomputers, sending
	  serial data to a tty port at sustained high speeds has been
	  known	to cause lockups, system halts,	kernel panics, and
	  occasional antisocial	behaviour.  This problem is not	unique
	  to _r_z; CRT terminals with block mode transmission and	line
	  noise	have the same effect.  When experimenting with high
	  speed	input to a system, consider rebooting the system if
	  the file transfers are not successful, especially if the
	  personality of the system appears altered.




     Page 3					      (printed 7/3/91)






     RRRRZZZZ((((1111))))		OOOOmmmmeeeennnn TTTTeeeecccchhhhnnnnoooollllooooggggyyyy	IIIINNNNCCCC ((((OOOOMMMMEEEENNNN))))		 RRRRZZZZ((((1111))))



	  The Unix "ulimit" parameter must be set high enough to
	  permit large file transfers to Unix.

	  Telebit modems must not be set to "spoof" UUCP, XMODEM, or
	  KERMIT.  Setting one of these	spoofing modes interferes with
	  other	protoocls.

	  32 bit CRC code courtesy Gary	S. Brown.  Directory creation
	  code from John Gilmore's PD TAR program.

     BBBBUUUUGGGGSSSS
	  _R_z is	not intended be	called from _c_u(_1), or other
	  communications programs.  Unix flavors of Omen Technology's
	  Professional-YAM communications software are available for
	  dial-out applications.

	  _R_z does not support some ZMODEM features.  Unix flavors of
	  Professional-YAM may be linked to "rz" to support these
	  features.

	  The ASCII option's CR/LF to NL translation merely deletes
	  CR's;	undos(omen) performs a more intelligent	translation.

     ZZZZMMMMOOOODDDDEEEEMMMM CCCCAAAAPPPPAAAABBBBIIIILLLLIIIITTTTIIIIEEEESSSS
	  _R_z supports incoming ZMODEM binary (-b), ASCII (-a),
	  newer(-n), newer+longer(-N), protect (-p), Crash Recovery(-
	  r), clobber (-y), match+clobber (-Y),	compression(-Z), and
	  append (-+) requests.	 Other options sent by the sender are
	  ignored.  The	default	is protect (-p)	and binary (-b).

	  Unix Professional-YAM	provides higher	performance and	other
	  features not supported by _r_z.	Please contact Omen Technology
	  Inc for paritculars.

	  Omen Technology INC
	  Post Office Box 4681
	  Portland OR 97208
	  503-621-3406


	  The Unix versions support ZMODEM command execution
	  (ZCOMMAND).

     FFFFIIIILLLLEEEESSSS
	  rz.c,	crctab.c, rbsb.c, zm.c,	zmodem.h rz.1

	  /tmp/rzlog stores debugging output generated with -vv	option








     Page 4					      (printed 7/3/91)



